"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7160],{4852:(e,t,o)=>{o.d(t,{Zo:()=>u,kt:()=>y});var n=o(9231);function r(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function i(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function l(e,t){if(null==e)return{};var o,n,r=function(e,t){if(null==e)return{};var o,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(r[o]=e[o]);return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(r[o]=e[o])}return r}var d=n.createContext({}),c=function(e){var t=n.useContext(d),o=t;return e&&(o="function"==typeof e?e(t):i(i({},t),e)),o},u=function(e){var t=c(e.components);return n.createElement(d.Provider,{value:t},e.children)},s={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},p=n.forwardRef((function(e,t){var o=e.components,r=e.mdxType,a=e.originalType,d=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=c(o),y=r,f=p["".concat(d,".").concat(y)]||p[y]||s[y]||a;return o?n.createElement(f,i(i({ref:t},u),{},{components:o})):n.createElement(f,i({ref:t},u))}));function y(e,t){var o=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var a=o.length,i=new Array(a);i[0]=p;var l={};for(var d in t)hasOwnProperty.call(t,d)&&(l[d]=t[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<a;c++)i[c]=o[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,o)}p.displayName="MDXCreateElement"},6764:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>i,default:()=>s,frontMatter:()=>a,metadata:()=>l,toc:()=>c});var n=o(7626),r=(o(9231),o(4852));const a={sidebar_position:6},i="Undo & Redo",l={unversionedId:"local-storage/undo",id:"local-storage/undo",title:"Undo & Redo",description:"Local changes are undoable as long as you don't refresh the page. To undo a change, call client.undoHistory.undo(). To redo and undone change, call client.undoHistory.redo().",source:"@site/docs/local-storage/undo.md",sourceDirName:"local-storage",slug:"/local-storage/undo",permalink:"/docs/local-storage/undo",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/local-storage/undo.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Documents & Entities",permalink:"/docs/local-storage/entities"},next:{title:"Sync",permalink:"/docs/category/sync"}},d={},c=[{value:"Undo behavior",id:"undo-behavior",level:2}],u={toc:c};function s(e){let{components:t,...o}=e;return(0,r.kt)("wrapper",(0,n.Z)({},u,o,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"undo--redo"},"Undo & Redo"),(0,r.kt)("p",null,"Local changes are undoable as long as you don't refresh the page. To undo a change, call ",(0,r.kt)("inlineCode",{parentName:"p"},"client.undoHistory.undo()"),". To redo and undone change, call ",(0,r.kt)("inlineCode",{parentName:"p"},"client.undoHistory.redo()"),"."),(0,r.kt)("p",null,"You can also manually add events to the undo history. Call ",(0,r.kt)("inlineCode",{parentName:"p"},"client.undoHistory.addUndo(() => { /* your code */ })")," to add an event to the undo stack. If your callback returns another callback, it will be added to the redo stack automatically. If you do this, your redo can also return a callback to undo, etc, ad infinitum. It's recommended if you want redoable changes."),(0,r.kt)("p",null,"Alternatively, you can use ",(0,r.kt)("inlineCode",{parentName:"p"},"client.undoHistory.addRedo")," to manually push a redo operation. You could achieve undo/redo just by using these, like calling ",(0,r.kt)("inlineCode",{parentName:"p"},"addRedo")," right after you call ",(0,r.kt)("inlineCode",{parentName:"p"},"undo")," every time to queue the redo operation yourself."),(0,r.kt)("h2",{id:"undo-behavior"},"Undo behavior"),(0,r.kt)("p",null,"As soon as you call ",(0,r.kt)("inlineCode",{parentName:"p"},"addUndo"),", or whenever the user modifies data in an undoable way, the redo stack is dropped. This is meant to be consistent with normal OS undo/redo behavior - after undoing a few operations, if you do something new, you can no longer redo those original operations; you've entered a new timeline, as it were."))}s.isMDXComponent=!0}}]);